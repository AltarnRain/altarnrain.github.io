(window.webpackJsonpsnake=window.webpackJsonpsnake||[]).push([[0],{11:function(e,t,n){e.exports=n(16)},16:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(5),a=n.n(o),s=n(2),c=n(3),u=n(6),l=n(7),p=n(10),h=n(8),y=n(1),f=n(9),d=31,g=31,b=Math.ceil(d/2),m=Math.ceil(g/2),w=5,O=.027*window.screen.height,v=window.innerWidth/2-O*b,k=window.innerHeight/2-O*m,j=!1;function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e){for(;;){var t={x:Math.ceil(Math.random()*(d-1)),y:Math.ceil(Math.random()*(g-1))};if(!e)return t;if(!P(e,t))return t}}function P(e,t){return e.some(function(e){return e.x===t.x&&e.y===t.y})}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var T=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).gameTickTimer=void 0,n.currentDirection="up",n.newDirection=void 0,n.state=n.getInitialState(),n.onKeyUp=n.onKeyUp.bind(Object(y.a)(n)),n.gameTick=n.gameTick.bind(Object(y.a)(n)),n.playAgain=n.playAgain.bind(Object(y.a)(n)),n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"getInitialState",value:function(){var e=function(){for(var e=[{x:b,y:m}],t=1;t<w;t++){var n=C({},e[t-1]);n.y++,e.push(n)}return e}();return{playerCoordinates:e,fruitCoordinate:x(e),snakeLength:w,gameLost:!1}}},{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyUp),j||(this.gameTickTimer=window.setInterval(this.gameTick,100))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp),"undefined"!==typeof this.gameTickTimer&&window.clearInterval(this.gameTickTimer)}},{key:"gameTick",value:function(e){if(!this.state.gameLost){var t,n;"undefined"!==typeof this.newDirection&&(t=this.newDirection,n=this.currentDirection,function(e){switch(e){case"up":return"down";case"down":return"up";case"left":return"right";case"right":return"left"}}(t)!==n)&&(this.currentDirection=this.newDirection,this.newDirection=void 0);var r=function(e,t){var n=C({},e);switch(t){case"left":n.x--;break;case"up":n.y--;break;case"right":n.x++;break;case"down":n.y++}return n}(this.state.playerCoordinates[0],this.currentDirection);if((i=r).x<0||i.x>=g||i.y<0||i.y>=d)this.setState({gameLost:!0,gameLostMessage:"You went outside the play field."});else{var i,o=this.state.snakeLength,a=this.state.fruitCoordinate,s=Object(c.a)(this.state.playerCoordinates);this.state.fruitCoordinate.x===r.x&&this.state.fruitCoordinate.y===r.y?(o++,a=x(s)):s.pop(),o>4&&P(s,r)?this.setState({gameLost:!0,gameLostMessage:"You hit your tail."}):(s=[r].concat(Object(c.a)(s)),this.setState({playerCoordinates:s,snakeLength:o,fruitCoordinate:a},e))}}}},{key:"onKeyUp",value:function(e){if(e){var t=function(e){switch(e){case 37:return"left";case 38:return"up";case 39:return"right";case 40:return"down"}}(e.keyCode);this.newDirection=t,j&&this.gameTick()}}},{key:"playAgain",value:function(){this.setState(this.getInitialState())}},{key:"render",value:function(){var e={position:"absolute",height:"".concat(O,"px"),width:"".concat(O,"px")},t={position:"absolute",height:"".concat(O*g,"px"),width:"".concat(O*d,"px"),backgroundColor:"green",left:v,top:k},n=E({},e,{backgroundColor:"red",left:this.state.fruitCoordinate.x*O,top:this.state.fruitCoordinate.y*O,borderRadius:"50%"}),r=E({},e,{backgroundColor:this.state.gameLost?"brown":"yellow"}),o={position:"absolute",color:"white",top:k,left:v-100};return i.a.createElement("div",null,i.a.createElement("p",{style:o},"Length: ",this.state.snakeLength),i.a.createElement("p",{style:E({},o,{top:k+30})},"Fruits: ",this.state.snakeLength-w),this.state.gameLost?i.a.createElement("button",{style:{position:"absolute",top:k+70,left:v-100},onClick:this.playAgain},"Play again?"):null,i.a.createElement("div",{style:t},i.a.createElement("div",{style:n}),this.state.playerCoordinates.map(function(e,t){return i.a.createElement("div",{key:t,style:E({},r,{left:e.x*O,top:e.y*O})})})))}}]),t}(i.a.Component);a.a.render(i.a.createElement(T,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.459bdc29.chunk.js.map