(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,o){e.exports=o(18)},17:function(e,t,o){},18:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),i=o(7),a=o.n(i),l=o(2),s=o(3),c=o(6),u=o(4),h=o(5),p=(o(17),o(8)),m=o(1),d=o(10),f=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClick=o.onClick.bind(Object(m.a)(o)),o}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={display:"flex",borderRadius:"50%",color:this.props.color,backgroundColor:this.props.color,flexGrow:0,width:"30px",height:"30px",margin:5};return r.a.createElement("button",{onClick:this.onClick,style:e})}},{key:"onClick",value:function(){this.props.onPinClick&&this.props.onPinClick(this.props.pinNumber),this.props.onPickColor&&this.props.onPickColor(this.props.color)}}]),t}(r.a.Component),b=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).el=void 0,o.modalRoot=void 0,o.el=document.createElement("div"),o.modalRoot=document.getElementById("portalRoot"),o}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.modalRoot&&this.modalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.modalRoot&&this.modalRoot.removeChild(this.el)}},{key:"render",value:function(){var e=0,t=0;if(this.props.element.current){var o=this.props.element.current.getBoundingClientRect();e=o.left,t=o.bottom}var n={position:"absolute",display:"flex",left:e,top:t,flexDirection:"column",boxSizing:"border-box"};return a.a.createPortal(r.a.createElement("div",{style:n},this.props.children),this.el)}}]),t}(r.a.Component),C=["orange","yellow","blue","green","cyan","purple"],k=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).onPickColor=o.onPickColor.bind(Object(m.a)(o)),o}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",backgroundColor:"white"}},C.map(function(t,o){return r.a.createElement(f,{key:o,pinNumber:o,color:t,onPickColor:e.onPickColor})}))}},{key:"onPickColor",value:function(e){this.props.onPickColor&&this.props.onPickColor(e)}}]),t}(r.a.Component),v=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).rowRef=r.a.createRef(),o.state={showPinPicker:!1},o.onPinClick=o.onPinClick.bind(Object(m.a)(o)),o.onPickColor=o.onPickColor.bind(Object(m.a)(o)),o}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={flexDirection:"row",display:"flex",backgroundColor:"undefined"!==typeof this.props.current?this.props.current?"blue":"brown":void 0},o={width:"15px",height:"15px",marginLeft:5,marginRight:5,marginTop:10};return r.a.createElement("div",{style:t,ref:this.rowRef},this.props.pinColors.map(function(t,o){return r.a.createElement(f,{key:o,pinNumber:o,color:t,onPinClick:e.onPinClick})}),this.state.showPinPicker?r.a.createElement(b,{element:this.rowRef},r.a.createElement(k,{onPickColor:this.onPickColor})):null,r.a.createElement("div",{style:{display:"flex",justifyContent:"right"}},"undefined"!==typeof this.props.hintColors?this.props.hintColors.map(function(e,t){return r.a.createElement("div",{key:t,style:Object(d.a)({},o,{backgroundColor:e})})}):null))}},{key:"onPinClick",value:function(e){this.props.current&&this.props.onSetColor&&this.setState({showPinPicker:!0,currentPinNumber:e})}},{key:"onPickColor",value:function(e){this.props.current&&this.props.onSetColor&&"number"===typeof this.state.currentPinNumber&&(this.setState({showPinPicker:!1}),"undefined"!==typeof this.props.row&&this.props.onSetColor(this.props.row,this.state.currentPinNumber,e))}}]),t}(r.a.Component),g=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).state=o.getInitialState(),o.onMoveDone=o.onMoveDone.bind(Object(m.a)(o)),o.onSetColor=o.onSetColor.bind(Object(m.a)(o)),o.onResetBoard=o.onResetBoard.bind(Object(m.a)(o)),o}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={display:"flex",flexDirection:"row",justifyContent:"center"},o={fontSize:28,marginBottom:10,textAlign:"center"};return r.a.createElement("div",{style:t},this.state.gameLost?r.a.createElement("div",{style:o},r.a.createElement("p",null,"You lost the game. The code was..."),r.a.createElement(v,{pinColors:this.state.codeColors}),r.a.createElement("button",{onClick:this.onResetBoard},"Play again?")):this.state.gameWon?r.a.createElement("div",{style:o},r.a.createElement("p",null,"You won the game"),r.a.createElement("button",{onClick:this.onResetBoard},"Play again?")):r.a.createElement("div",{style:{height:"100%",backgroundColor:"brown",flexShrink:0,flexDirection:"column",width:"250px"}},this.state.gameRows.map(function(t,o){return r.a.createElement(v,{key:o,current:e.state.currentRow===o,row:o,pinColors:t.pinColors,hintColors:t.hintColors,onSetColor:e.onSetColor})}),r.a.createElement("div",{style:t},r.a.createElement("button",{style:{borderRadius:"40%",width:"90%",backgroundColor:"gray",border:5,margin:5},onClick:this.onMoveDone},"Done!"))))}},{key:"getGameEmptyRows",value:function(){for(var e=[],t=0;t<12;t++)e.push({hintColors:["black","black","black","black"],pinColors:["black","black","black","black"]});return e}},{key:"getCode",value:function(){for(var e=[],t=0;t<4;t++){var o=Math.floor(6*Math.random());e.push(C[o])}return e.forEach(function(e){return console.log(e)}),e}},{key:"onMoveDone",value:function(){if(!this.state.gameWon&&!this.state.gameLost){for(var e=this.cloneGameRows(),t=e[this.state.currentRow],o=t.pinColors,n=this.state.codeColors.map(function(e,t){return{index:t,color:e}}),r=0,i=0,a=function(e){var t=o[e],r=n.filter(function(t){return t.index===e});r.length>0&&t===r[0].color&&(i++,n=n.filter(function(t){return t.index!==e}))},l=0;l<t.pinColors.length;l++)a(l);var s=function(e){var t=o[e],i=n.filter(function(e){return e.color===t});i.length>0&&(r++,n=n.filter(function(e){return e.index!==i[0].index}))};for(l=0;l<t.pinColors.length;l++)s(l);if(4!==i)if(11!==this.state.currentRow||4===i){var c=[];for(l=0;l<i;l++)c.push("red");for(var u=0;u<r;u++)c.push("white");for(var h=4-(i+r),p=0;p<h;p++)c.push("black");for(var m=0;m<10;m++){var d=Math.floor(4*Math.random()),f=Math.floor(4*Math.random()),b=c[d],C=c[f];c[d]=C,c[f]=b}t.hintColors=c,this.setState({currentRow:this.state.currentRow+1,gameRows:e})}else this.setState({gameLost:!0});else this.setState({gameWon:!0})}}},{key:"onSetColor",value:function(e,t,o){var n=this.cloneGameRows();n[e].pinColors[t]=o,this.setState({gameRows:n})}},{key:"onResetBoard",value:function(){this.setState(this.getInitialState)}},{key:"getInitialState",value:function(){return{currentRow:0,gameRows:this.getGameEmptyRows(),codeColors:this.getCode(),gameLost:!1,gameWon:!1}}},{key:"cloneGameRows",value:function(){for(var e=Object(p.a)(this.state.gameRows),t=0;t<e.length;t++)e[t].pinColors=Object(p.a)(this.state.gameRows[t].pinColors),e[t].hintColors=Object(p.a)(this.state.gameRows[t].hintColors);return e}}]),t}(r.a.Component),y=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:28,marginBottom:10,textAlign:"center"}},"Mastermind"),r.a.createElement(g,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.509eeee6.chunk.js.map