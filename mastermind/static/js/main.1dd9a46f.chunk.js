(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,o){e.exports=o(18)},17:function(e,t,o){},18:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),i=o(8),a=o.n(i),l=(o(17),o(2)),s=o(3),c=o(6),h=o(4),u=o(5),p=o(7),d=o(1),m=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(h.a)(t).call(this,e))).onClick=o.onClick.bind(Object(d.a)(o)),o}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={display:"flex",borderRadius:"50%",color:this.props.color,backgroundColor:this.props.color,flexGrow:0,width:"14%",height:"88%",marginTop:"1%",marginRight:"1%"};return r.a.createElement("button",{onClick:this.onClick,style:e})}},{key:"onClick",value:function(){this.props.onPinClick&&this.props.onPinClick(this.props.pinNumber),this.props.onPickColor&&this.props.onPickColor(this.props.color)}}]),t}(r.a.Component);function f(e){for(var t=Object(p.a)(e),o=0;o<10;o++){var n=Math.floor(4*Math.random()),r=Math.floor(4*Math.random()),i=t[n],a=t[r];"undefined"!==typeof i&&"undefined"!==typeof a&&(t[n]=a,t[r]=i)}return t}var b=o(10),g=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(h.a)(t).call(this,e))).el=void 0,o.modalRoot=void 0,o.el=document.createElement("div"),o.modalRoot=document.getElementById("portalRoot"),o}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.modalRoot&&this.modalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.modalRoot&&this.modalRoot.removeChild(this.el)}},{key:"render",value:function(){var e=0,t=0,o=0,n=0;if(this.props.element.current){var i=this.props.element.current.getBoundingClientRect();e=i.left,t=i.bottom,o=i.width,n=i.height}var l={position:"absolute",display:"flex",left:e,top:t,height:n,width:o,flexDirection:"column",boxSizing:"border-box"};return a.a.createPortal(r.a.createElement("div",{style:l},this.props.children),this.el)}}]),t}(r.a.Component),C=["orange","yellow","blue","green","cyan","purple"],v=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(h.a)(t).call(this,e))).onPickColor=o.onPickColor.bind(Object(d.a)(o)),o}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",backgroundColor:"white",height:"100%"}},C.map(function(t,o){return r.a.createElement(m,{key:o,pinNumber:o,color:t,onPickColor:e.onPickColor})}))}},{key:"onPickColor",value:function(e){this.props.onPickColor&&this.props.onPickColor(e)}}]),t}(r.a.Component),k=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(h.a)(t).call(this,e))).rowRef=r.a.createRef(),o.state={showPinPicker:!1},o.onPinClick=o.onPinClick.bind(Object(d.a)(o)),o.onPickColor=o.onPickColor.bind(Object(d.a)(o)),o}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={flexDirection:"row",display:"flex",backgroundColor:"undefined"!==typeof this.props.current?this.props.current?"blue":"brown":void 0,height:"8%"},o={width:"80%",height:"65%",marginTop:"6%",marginRight:"2%"};return r.a.createElement("div",{style:t,ref:this.rowRef},this.props.pinColors.map(function(t,o){return r.a.createElement(m,{key:o,pinNumber:o,color:t,onPinClick:e.onPinClick})}),this.state.showPinPicker?r.a.createElement(g,{element:this.rowRef},r.a.createElement(v,{onPickColor:this.onPickColor})):null,r.a.createElement("div",{style:{display:"flex",justifyContent:"right",height:"100%",flexGrow:1}},"undefined"!==typeof this.props.hintColors?this.props.hintColors.map(function(e,t){return r.a.createElement("div",{key:t,style:Object(b.a)({},o,{backgroundColor:e})})}):null))}},{key:"onPinClick",value:function(e){this.props.current&&this.props.onSetColor&&this.setState({showPinPicker:!0,currentPinNumber:e})}},{key:"onPickColor",value:function(e){this.props.current&&this.props.onSetColor&&"number"===typeof this.state.currentPinNumber&&(this.setState({showPinPicker:!1}),"undefined"!==typeof this.props.row&&this.props.onSetColor(this.props.row,this.state.currentPinNumber,e))}}]),t}(r.a.Component),y=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(h.a)(t).call(this,e))).state=o.getInitialState(),o.onMoveDone=o.onMoveDone.bind(Object(d.a)(o)),o.onSetColor=o.onSetColor.bind(Object(d.a)(o)),o.onResetBoard=o.onResetBoard.bind(Object(d.a)(o)),o}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={display:"flex",flexDirection:"row",justifyContent:"center",height:"90%",width:"100%"},o={display:"flex",fontSize:28,marginBottom:10,marginTop:50,textAlign:"center",height:"100%",flexDirection:"column"},n={margin:"5%",height:"8%",fontSize:"24px",fontWeight:"bold",borderRadius:"50%"},i={display:"flex",flexDirection:"row",justifyContent:"center",width:"50vh",height:"8%"};return r.a.createElement("div",{style:t},this.state.gameWon?r.a.createElement("div",{style:o},r.a.createElement("p",null,"You found the code!"),r.a.createElement("div",{style:i},r.a.createElement(m,{pinNumber:0,color:this.state.codeColors[0]}),r.a.createElement(m,{pinNumber:1,color:this.state.codeColors[1]}),r.a.createElement(m,{pinNumber:2,color:this.state.codeColors[2]}),r.a.createElement(m,{pinNumber:3,color:this.state.codeColors[3]})),r.a.createElement("p",null,"Congratulations!"),r.a.createElement("button",{style:n,onClick:this.onResetBoard},"Play again?")):r.a.createElement("div",{style:{backgroundColor:"brown",flexShrink:0,flexDirection:"column",width:"50vh"}},this.state.gameRows.map(function(t,o){return r.a.createElement(k,{key:o,current:e.state.currentRow===o,row:o,pinColors:t.pinColors,hintColors:t.hintColors,onSetColor:e.onSetColor})}),this.state.gameLost?r.a.createElement("div",{style:o},r.a.createElement("p",null,"You lost the game. The code was..."),r.a.createElement("br",null),r.a.createElement("div",{style:i},r.a.createElement(m,{pinNumber:0,color:this.state.codeColors[0]}),r.a.createElement(m,{pinNumber:1,color:this.state.codeColors[1]}),r.a.createElement(m,{pinNumber:2,color:this.state.codeColors[2]}),r.a.createElement(m,{pinNumber:3,color:this.state.codeColors[3]})),r.a.createElement("button",{style:n,onClick:this.onResetBoard},"Play again?")):null,r.a.createElement("div",{style:t},this.allColorsSet()?r.a.createElement("button",{style:{display:"flex",borderRadius:"40%",width:"50%",height:"3%",backgroundColor:"gray",border:"1%",margin:"1%",flexDirection:"row"},onClick:this.onMoveDone},"Done!"):null)))}},{key:"getGameEmptyRows",value:function(){for(var e=[],t=0;t<12;t++)e.push({hintColors:["black","black","black","black"],pinColors:["black","black","black","black"]});return e}},{key:"getCode",value:function(){for(var e=[],t=0;t<4;t++){var o=Math.floor(6*Math.random());e.push(C[o])}return e}},{key:"onMoveDone",value:function(){if(!this.state.gameWon&&!this.state.gameLost){var e=this.cloneGameRows(),t=e[this.state.currentRow],o=function(e,t){for(var o=e.map(function(e,t){return{index:t,color:e,processed:!1}}),n=t.map(function(e,t){return{index:t,color:e,processed:!1}}),r={rightColorWrongPosition:0,rightColorRightPosition:0},i=function(t){var o=e[t],i=n.find(function(e){return e.index===t});i&&!1===i.processed&&o===i.color&&(r.rightColorRightPosition++,i.processed=!0)},a=0;a<o.length;a++)i(a);var l=function(e){var t=o[e].color,i=n.find(function(e){return e.color===t&&!1===e.processed});i&&!1===i.processed&&(r.rightColorWrongPosition++,i.processed=!0)};for(a=0;a<o.length;a++)l(a);return r}(t.pinColors,this.state.codeColors);if(4!==o.rightColorRightPosition)if(11!==this.state.currentRow||4===o.rightColorRightPosition){for(var n=[],r=[],i=0;i<o.rightColorRightPosition;i++)n.push("red");for(var a=0;a<o.rightColorWrongPosition;a++)r.push("white");for(var l=4-(o.rightColorRightPosition+o.rightColorWrongPosition),s=[].concat(Object(p.a)(f(n)),Object(p.a)(f(r))),c=0;c<l;c++)s.push("black");t.hintColors=s,this.setState({currentRow:this.state.currentRow+1,gameRows:e})}else this.setState({gameLost:!0});else this.setState({gameWon:!0})}}},{key:"onSetColor",value:function(e,t,o){var n=this.cloneGameRows();n[e].pinColors[t]=o,this.setState({gameRows:n})}},{key:"onResetBoard",value:function(){this.setState(this.getInitialState)}},{key:"getInitialState",value:function(){return{currentRow:0,gameRows:this.getGameEmptyRows(),codeColors:this.getCode(),gameLost:!1,gameWon:!1}}},{key:"cloneGameRows",value:function(){for(var e=Object(p.a)(this.state.gameRows),t=0;t<e.length;t++)e[t].pinColors=Object(p.a)(this.state.gameRows[t].pinColors),e[t].hintColors=Object(p.a)(this.state.gameRows[t].hintColors);return e}},{key:"allColorsSet",value:function(){return 0===this.state.gameRows[this.state.currentRow].pinColors.filter(function(e){return"black"===e}).length}}]),t}(r.a.Component),w=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={showGame:!1,showManual:!1},o}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100vh",textAlign:"center"}},r.a.createElement("p",{style:{fontSize:28,marginBottom:10,textAlign:"center"}},"Mastermind"),r.a.createElement(y,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.1dd9a46f.chunk.js.map